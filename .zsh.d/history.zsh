setopt APPEND_HISTORY
setopt EXTENDED_HISTORY # using ":start:elapsed;command" format
setopt HIST_EXPIRE_DUPS_FIRST # remote duplicate when trimming history
setopt HIST_IGNORE_DUPS # ignore duplicated commands
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt HIST_IGNORE_SPACE
setopt HIST_SAVE_NO_DUPS
setopt HIST_VERIFY
setopt INC_APPEND_HISTORY # write immediately, not on shell exit
setopt SHARE_HISTORY # share command history data
